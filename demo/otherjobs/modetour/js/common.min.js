$(document).ready(function(){var o=$(window),e=$("html, body");$body=$("body"),$comnHeader=$body.find(".comn-header"),$comnfooter=$body.find(".comn-footer"),$lnkTab=$comnHeader.find(".link-tab"),$categories=$body.find(".categories");var s=$comnHeader.outerHeight(),n=o.scrollTop(),i=5;function a(){var e=o.scrollTop(),a=Math.abs(e-n);e<1?("main.html"==v&&$comnHeader.removeClass("fix"),$lnkTab.removeClass("is-drop")):a>i&&("main.html"!=v&&"main.html#"!=v||($comnHeader.addClass("fix").toggleClass("is-scroll-down",e>s&&e>n),n=e),$lnkTab.removeClass("is-drop"))}o.on("scroll resize",a),a(),$lnkTab.on("click","a",function(o){$(this).closest(".comn-header").hasClass("fix")&&!$(this).closest(".link-tab").hasClass("is-drop")&&(o.preventDefault(),$lnkTab.addClass("is-drop"))}),$lnkTab.next(".screen").on("click",function(o){o.preventDefault(),$lnkTab.removeClass("is-drop")}),$comnHeader.on("click",".comn-cate-open",function(o){o.preventDefault(),$categories.addClass("is-open"),$body.addClass("fixed-dim"),promotionSwiper.autoplay.stop()}),$categories.on("click",".comn-cate-close, > .screen",function(o){o.preventDefault(),$categories.removeClass("is-open"),$body.removeClass("fixed-dim"),$categories.find(".categories_wrap").scrollTop(0),promotionSwiper.autoplay.start()});var t=$(".ui-tabs-menu"),l=$(".ui-tabs-contents-wrap"),c="current";$(".ui-tab-content").css("display","none"),l.each(function(){$(this).find("div.ui-tab-content:first").css("display","block")}),t.on("click","a",function(){return $(this).hasClass(c)||($(this).addClass(c).closest("li").siblings("li").find("."+c).removeClass(c),$($(this).attr("href")).css("display","block").siblings("div.ui-tab-content").css("display","none")),this.blur(),!1}),$categories.find(".place-two, .place-three, .place-four, .place-five").on("click","> a",function(o){var e=$(this);e.parent("div").siblings().removeClass("on"),e.parent("div").toggleClass("on")}),$categories.find(".place-two, .place-three, .place-four, .place-five").each(function(){0==$(this).children("a").next().length&&$(this).children("a").addClass("nocate")});var r,d=0,p=function(e){$body.find(".pop-layer").hide(),r=e.attr("href"),d=o.scrollTop(),$body.addClass("fixed-dim"),$body.find(r).show(),function(){window.pageYOffset&&(u=window.pageYOffset,b.css({top:-u}));m.css({height:"100%",overflow:"hidden"})}()},f=function(){$body.removeClass("fixed-dim"),$body.find(".pop-layer").hide(),o.scrollTop(d),m.css({height:"",overflow:""}),b.css({top:""}),window.scrollTo(0,u),window.setTimeout(function(){u=null},0)},h=window.location.href.split("/"),v=h[h.length-1];$body.on("click",".pop-tit .close, .pop-layer > .screen",function(){return window.history.back(),!1}).on("click",".pop-open",function(){return window.history.pushState({},"page",v),p($(this)),!1}),window.onpopstate=history.onpushstate=function(o){0===window.location.href.split("/").pop().indexOf(v)&&f()};var u,m=$("html"),b=$body.find(".wrapper");$comnfooter.on("click",".btn-tog",function(o){o.preventDefault();var e=$(this);e.hasClass("on")?e.removeClass("on"):e.addClass("on")}),o.scroll(function(){var e=o.height();o.scrollTop()>e?$(".comn-go-top").addClass("is-show"):$(".comn-go-top").removeClass("is-show")}),$body.on("click",".comn-go-top",function(o){o.preventDefault(),e.animate({scrollTop:0},500)});var C=$body.find(".search-integrate"),y=$body.find(".sec-sort");y.on("click",".btn-change",function(o){o.preventDefault();var e=$(this),s=C.find(".lst-pack");s.hasClass("view-thumb")?(s.addClass("view-list").removeClass("view-thumb"),e.removeClass("thum")):(s.addClass("view-thumb").removeClass("view-list"),e.addClass("thum"))}),y.on("click",".btn-popular, .btn-filter",function(o){o.preventDefault();var e=$(this);e.hasClass("is-open")?e.removeClass("is-open").siblings().removeClass("is-open"):e.addClass("is-open").siblings().removeClass("is-open")}),C.find(".word-area").on("click",".btn-remove",function(o){o.preventDefault(),$(this).hide()}),C.find(".pop-filter .screen, .pop-popular .screen").on("click",function(o){o.preventDefault(),$(this).closest(".sec-sort").children().removeClass("is-open")}),C.on("click",".pop-popular .popular-wrap a",function(o){o.preventDefault();var e=$(this),s=e.text();e.closest(".popular-wrap").find("a").removeClass("on"),e.addClass("on"),e.closest(".range-area").find(".btn-popular").text(s)}),$body.find(".search-detail").on("click",".btn-remove",function(o){o.preventDefault(),$(this).closest("li").remove()});var w=$body.find(".font-change-pop");$body.find(".comn-font-change").on("click","a",function(o){o.preventDefault(),$body.addClass("layer-dim"),w.show()}),w.on("click",".screen, .close",function(o){o.preventDefault(),o.stopPropagation(),$body.removeClass("layer-dim"),w.hide()}),w.find(".lst-calcuate").on("click"," a",function(o){o.preventDefault();var s=$(this).parent("li").index();0==s?e.css("fontSize","16px"):1==s?e.css("fontSize","17px"):2==s?e.css("fontSize","18px"):e.css("fontSize","19px")});var g;g='<a href="#" class="btn-comtit-fav">좋아요</a><a href="#pop-comtit-share" class="btn-comtit-share pop-open">공유하기</a>';var k="";k+='<div class="pop-comtit-fav">',k+='<span class="blind">좋아요</span>',k+="</div>",k+='<div class="pop-comtit-share pop-layer" id="pop-comtit-share">',k+='<div class="screen"></div>',k+='<div class="pop-wrap">',k+='<div class="pop-con">',k+='<div class="tit">공유하기</div>',k+='<ul class="">',k+='<li><a href="#" class="kakao">카카오톡으로 링크 보내기</a></li>',k+='<li><a href="#" class="link">링크 복사하기</a></li>',k+='<li><a href="#" class="email">e-mail 발송</a></li>',k+="</ul>",k+="</div>",k+="</div>",k+="</div>",!$body.find(".section_title").length>0?$body.find(".comn-page-title").append(g).after(k):$body.find(".section_title").append(g).after(k),$body.on("click",".btn-comtit-fav",function(o){o.preventDefault();var e=$(this);e.hasClass("is-on")?(e.removeClass("is-on"),$body.find(".pop-comtit-fav").hide()):(e.addClass("is-on"),$body.find(".pop-comtit-fav").show())})});