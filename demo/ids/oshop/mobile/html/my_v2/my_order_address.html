<!--#include virtual="/publish/oshop/mobile/html/common/common.html" -->
<body>
	<!-- header 없는 타입 / 클래스 추가 -->
	<section id="wrapper" class="layout_type1 none_header"><!-- 클래스 명은 페이지별로 동적이여야 합니다. ex) service_서비스이름 -->
		<section class="container clear_g">
			<section id="oshopBody" class="contents">
				<!-- template 영역 시작 -->
				<div class="cont_head">
					<h2 class="tit_cate">배송지 정보 변경</h2>
					<a href="#none" class="btn_close"><span class="ico_oshop ico_close">닫기</span></a>
				</div>

				<div class="cont_body type_cart">
					<div class="accordion_box">
						<div class="accordion_header">수령자 정보</div>
						<div class="accordion_body">
							<div class="default_addr order_info">
								<p>
									<span class="name">홍길동</span><span class="badge">기본배송지</span>
								</p>
								<p><span class="small txt_num">010-3333-5555</span></p>
								<p class="address">서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀</p>
								<div class="frame_inp">
									<input type="text" class="inp_oshop" id="request" autocomplete="off" value="배송 전에 미리 연락바랍니다" readonly>
								</div>
							</div>
						</div>
					</div>
					<div class="accordion_box">
						<!-- 아코디언 박스 접힌 상태로 세팅할 경우 aria-expanded="true"를 false로 바꿔주세요 -->
						<button type="button" class="accordion_header btn_collapse" aria-controls="shippingAddr" aria-expanded="true">새로운 배송지 정보</button>
						<div class="accordion_body" id="shippingAddr">
							<div class="change_addr">
								<ul class="tab_type4">
									<li class="on"><a href="#selectAddr" class="link_tab">배송지 선택</a></li>
									<li><a href="#newAddr" class="link_tab">신규 입력</a></li>
								</ul>
								<div class="order_info" id="selectAddr">
									<ul class="addr_list">
										<li>
											<p>
												<span class="name">홍길동</span><span class="badge orange">기본배송지</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동</span><span class="badge">최근배송지</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동 1</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동 2</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동 3</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동 4</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
										<li>
											<p>
												<span class="name">홍길동 5</span>
												<span class="btn_wrap">
													<button type="button" class="btn select">선택</button>
												</span>
											</p>
											<p><span class="small txt_num">010-3333-5555</span></p>
											<p class="address">
												서울시 강남구 봉은사로 644 대웅제약 6층 커머스디자인팀
											</p>
										</li>
									</ul>
									<button type="button" class="btn expanded">더보기</button>
								</div>
								<div class="wrap_table order_info" id="newAddr" style="display:none;">
									<table class="tbl_type1 tbl_address">
										<caption class="screen_out">주문자 정보 테이블</caption>
										<tbody>
											<tr>
												<th scope="row"><label for="addrName">배송지명</label></th>
												<td><div class="frame_inp"><input type="text" id="addrName" class="inp_oshop" placeholder="직접 입력하세요"></div></td>
											</tr>
											<tr>
												<th scope="row"><label for="sender">주문자<span class="required">*</span></label></th>
												<td><div class="frame_inp"><input type="text" id="sender" class="inp_oshop" placeholder="50자 이내로 입력하세요"></div></td>
											</tr>
											<tr>
												<th scope="row"><label for="send_tell">연락처1<span class="required">*</span></label></th>
												<td><div class="frame_inp"><input type="text" id="send_tell" class="inp_oshop"></div></td>
											</tr>
											<tr>
												<th scope="row"><label for="send_phone">연락처2</label></th>
												<td><div class="frame_inp"><input type="text" id="send_phone" class="inp_oshop"></div></td>
											</tr>
											<tr>
												<th scope="row">주소</th>
												<td class="td_address">
													<div class="frame_inp"><input type="text" class="inp_oshop"></div>
													<button type="button" class="btn navy link_address">주소검색</button>
												</td>
											</tr>
											<tr>
												<td colspan="2" class="td_code" style="display:none">
													<div id="zipCode_view" style="display: block; border: 1px solid; width: 100%; height: 466px; margin: 5px 0px; position: relative;">다음 우편번호 서비스 안내 iframe</div>
												</td>
											</tr>
											<tr>
												<th scope="col"><span class="screen_out">주소</span></th>
												<td><div class="frame_inp"><input type="text" class="inp_oshop" value=""></div></td>
											</tr>
											<tr>
												<th scope="col"><span class="screen_out">상세주소</span></th>
												<td><div class="frame_inp"><input type="text" class="inp_oshop" value=""></div></td>
											</tr>
											<!-- 2020-12-29 추가 -->
											<tr>
												<th scope="col"><span class="screen_out">배송 메시지</span></th>
												<td>
													<div class="request_field reset_field">
														<input type="text" class="inp_oshop" id="request2" autocomplete="off">
														<ul class="dropdown_menu">
															<li>
																<a href="#">배송 전에 미리 연락 바랍니다.</a>
															</li>
															<li>
																<a href="#">부재시 경비실에 맡겨 주세요.</a>
															</li>
															<li>
																<a href="#">부재시 전화 주시거나 문자 남겨 주세요.</a>
															</li>
															<li>
																(최근 메시지) <a href="#">빠른 배송 부탁드립니다.</a>
															</li>
														</ul>
														<button type="reset" class="reset"><span class="ico_oshop">초기화</span></button>
													</div>
												</td>
											</tr>
											<tr>
												<th scope="col"></th>
												<td>
													<label class="field">
														<input type="checkbox" name="" checked><span class="mark"></span> 배송지목록에 추가
													</label>
													<label class="field">
														<input type="checkbox" name=""><span class="mark"></span> 기본배송지로 선택
													</label>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="cont_foot fixed">
					<div class="btns_full">
						<button type="button" class="btn_type1">취소</button>
						<button type="button" class="btn_type2">변경</button>
					</div>
				</div>


				<script>
					// 2020-12-16 추가 [s]
					oshopUI.tab({
						"tabs" : $(".change_addr .tab_type4 .link_tab"),
						"tabList" : $(".change_addr .tab_type4 li"),
						"activeClass" : "on",
						"activeContents" : $(".change_addr .order_info")
					});
					// 2021-01-14 btn_collapse 수정
					$('.btn_collapse').on({
						click:function(e){
							if(e.currentTarget.getAttribute('aria-controls') != 'orderProdList'){
								$('#'+e.currentTarget.getAttribute('aria-controls')).stop().slideToggle(300,function(){
									$(e.currentTarget).attr('aria-expanded', function(index, attr){
										return attr == 'true' ? 'false' : 'true';
									});
								});
							}else {
								var target = $('#'+e.currentTarget.getAttribute('aria-controls'));
								
								if(!target.is('.expanded')){
									target.off('webkitTransitionEnd').addClass('expanded').css({
										maxHeight:target.find('.overflow').outerHeight(true)
									});
								}else {
									$('body, html').animate({
										scrollTop:target.closest('.accordion_box').offset().top - 150
									},500, function(){
										target.removeAttr('style').on({
											webkitTransitionEnd:function(){
												target.removeClass('expanded');
											}
										});
									});
									
								}

								$(e.currentTarget).attr('aria-expanded', function(index, attr){
									return attr == 'true' ? 'false' : 'true';
								});
							}
						}
					});
					$('.default_addr').on({
						click:function(e){
							$(e.delegateTarget).hide().siblings('.change_addr').show();
						}
					},'.change_addr');
					$('.addr_list li').on({
						click:function(e){
							e.preventDefault();
							$(e.delegateTarget).addClass('selected').siblings().removeClass('selected');
						}
					}, '.btn.select');
					$('.addr_list + .expanded').on({
						click:function(e){
							$(e.currentTarget).prev('.addr_list').addClass('expanded');
							$(e.currentTarget).remove();
						}
					});
					$('.reset_field').on({
						input:function(e){
							if(e.currentTarget.value != ''){
								$(e.delegateTarget).find('.reset').show();
							}else {
								$(e.delegateTarget).find('.reset').hide();
							}
						}
					});
					$('.reset_field').on({
						click:function(e){
							e.preventDefault();
							$(e.delegateTarget).find('input.inp_oshop').focus().val('');
							$(e.currentTarget).hide();
						}
					}, '.reset');
					$('.request_field').on({
						focus:function(e){
							$(e.delegateTarget).addClass('active');
							$(e.delegateTarget).closest('.accordion_box').css({
								overflow:'visible'
							});
						}
					}, 'input');
					$('.request_field').on({
						click:function(e){
							e.preventDefault();
							var input = e.delegateTarget.querySelector('input');
							input.value = e.currentTarget.outerText;
							$(e.delegateTarget).removeClass('active');
						}
					}, '.dropdown_menu a');
					$(document).on({
						click:function(e){
							if(!$(e.target).closest('.request_field')[0]){
								$('.request_field').removeClass('active');
							}
						}
					});
				</script>

			</section>
		</section>
	</section>
</body>
</html>
