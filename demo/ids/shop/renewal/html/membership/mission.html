<!--#include virtual="/publish/shop/renewal/html/include/common.html" -->
	<link rel="stylesheet" href="../../css/layout.css">
    <!-- membership 전용 css 추가 -->
	<link rel="stylesheet" href="../../css/themembership.css">
</head>
<body>
	<nav id="Index">
		<a href="#content">본문 바로가기</a>
		<a href="#header">주메뉴 바로가기</a>
		<a href="#footer">사이트 정보 바로가기</a>
	</nav>
	<!-- header [s] -->
	<!--#include virtual="/publish/shop/renewal/html/include/header.html" -->
	<!-- header [e] -->

	<!-- container [s] -->
    <section id="content" class="membership mission">
        <div class="top_overview">
            <div class="accordion_box">
                <button type="button" class="accordion_header" aria-expanded="true">
                    <span class="ico_membership ico_roulette"></span>
                    The 멤버십 고객을 위한 <strong>The Mission</strong>
                    <span class="ico_anchor"></span>
                </button>
                <div class="accordion_body">
                    <p class="title">오직 The멤버십 회원에게만! <br>미션 달성하고 <em>마일리지 팡팡 터지는 룰렛 이벤트 참여권</em>을 획득해보세요!</p>
                    <p>미션 달성시 룰렛 이벤트 참여권이 발급됩니다! 분기 6만원 상당의 마일리지 혜택을 누려보세요!</p>
                </div>
            </div>
            <ul class="status_box">
                <li>
                    <div class="row">
                        <div class="label">분기 예치금 사용금액</div>
                        <div class="number small">4,000,000</div>
                    </div>
                    <div class="row">
                        <div class="label">분기 누적 예치금 금액</div>
                        <div class="number small">15,000,000</div>
                    </div>
                    <div class="absolute_row">
                        <a href="#" class="btn_type6">예치금 내역 바로가기</a>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="label">The Mission 획득 마일리지</div>
                        <div class="number small">15,000,000</div>
                    </div>
                    <div class="row">
                        <div class="label">전체 보유 마일리지</div>
                        <div class="number small">423,000</div>
                    </div>
                    <div class="absolute_row">
                        <a href="#" class="btn_type6">마일리지 내역 바로가기</a>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="label">획득한 이벤트 참여권</div>
                        <!-- 2021-08-24 링크 추가 -->
                        <div class="number small"><a href="#history">4</a></div>
                    </div>
                    <div class="row">
                        <div class="label">사용한 이벤트 참여권</div>
                        <!-- 2021-08-24 링크 추가 -->
                        <div class="number small"><a href="#history">0</a></div>
                    </div>
                </li>
            </ul>
        </div>
        
        <div class="goal">
            <div class="box_header">
                <p class="eyebrow">The Membership x 4 Mission</p>
                <h2 class="title">이번 분기 Mission 달성하셨나요?</h2>
            </div>

            <ul class="mission_list">
                <li>
                    <div class="circle">
                        <div class="membership_logo">the 멤버십</div>
                        <p><strong>The멤버십 등급 달성시</strong><br><span class="small">(The고마움 이상/분기 1회)</span></p>
                    </div>
                    <a href="#" class="rewards">이벤트 참여권 받기</a>
                </li>
                <li>
                    <div class="circle">
                        <div class="coupon">
                            <span class="screen_out">예치금</span>
                            <span class="value"><strong class="number">500</strong>만원</span>
                        </div>
                        <p>예치금 구매 누적 금액<br><strong>500만원 돌파시</strong></p>
                    </div>
                    <div class="rewards">이벤트 참여권 자동발급</div>
                </li>
                <li>
                    <div class="circle">
                        <div class="coupon">
                            <span class="screen_out">예치금</span>
                            <span class="value"><strong class="number">1,000</strong>만원</span>
                        </div>
                        <p>예치금 구매 누적 금액<br><strong>1,000만원 돌파시</strong></p>
                    </div>
                    <div class="rewards">이벤트 참여권 자동발급</div>
                </li>
                <li>
                    <div class="circle">
                        <div class="coupon">
                            <span class="screen_out">예치금</span>
                            <span class="value"><strong class="number">1,000</strong>만원</span>
                        </div>
                        <p>분기내 구매 예치금 사용금액<br><strong>1,000만원 돌파시</strong></p>
                    </div>
                    <div class="rewards">이벤트 참여권 자동발급</div>
                </li>
            </ul>
        </div>

        <div class="roulette">
            <div class="box_header">
                <p class="eyebrow">The Mission x Roulette Event </p>
                <h2 class="title">행운의 여신을 약사님께! <br>룰렛을 돌려라!</h2>
            </div>

            <div class="object">
                <div class="pin"></div>
                <div class="pannel">
                    <div class="screen_out">
                        <ul>
                            <li>마일리지 5,000</li>
                            <li>마일리지 10,000</li>
                            <li>마일리지 20,000</li>
                            <li>마일리지 30,000</li>
                            <li>꽝</li>
                        </ul>
                    </div>
                </div>
                <!-- 룰렛 돌고 난 이후에는 자동으로 버튼 영역 disabled 처리됨 -->
                <button type="button" class="trigger">
                    <img src="../../images/membership/mission_roulette_trigger.png" alt="click!">
                </button>
            </div>
        </div>

        <!-- 2021-08-24 id 지정 -->
        <div class="history" id="history">
            <h2 class="title"><strong>이벤트참여권 발급/사용 내역</strong></h2>
            <table class="tbl_type1">
                <caption>이벤트 참여권 발급/사용 내역 테이블</caption>
                <colgroup>
                    <col style="width:20%">
                    <col style="width:15%">
                    <col>
                </colgroup>
                <thead>
                    <tr>
                        <th scope="col">일자</th>
                        <th scope="col">구분</th>
                        <th scope="col">내용</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>멤버십 등급 달성 축하 이벤트 참여권 </td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>발급</td>
                        <td>예치금 구매 500만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td>2021-10-07</td>
                        <td>사용</td>
                        <td>예치금 사용 1,000만원 감사 이벤트 참여권</td>
                    </tr>
                    <tr>
                        <td colspan="3" class="empty">이벤트 참여권 발급 &amp; 사용내역이 없습니다.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 이벤트 결과값 팝업 -->
        <div id="popRouletteResults" class="pop_center" style="display:none;">
            <div class="pop_layer pop_type1">
                <div class="pop_wrap">
                    <p class="title">축하드립니다. <br>마일리지 3만 점에 당첨되셨습니다. <br><br>당첨된 마일리지는 [마이페이지 > 마일리지]에서<br> 확인 하실 수 있습니다.</p>
                </div>
                <button type="button" class="btn_comm btn_close fn_close">닫기</button>
            </div>
        </div>

        <!-- 보유 이벤트 참여권이 없는 경우 팝업 -->
        <!-- <div id="popRouletteResults" class="pop_center" style="display:none;">
            <div class="pop_layer pop_type1">
                <div class="pop_wrap">
                    <p class="title">보유한 이벤트 참여권이 없습니다.</p>
                </div>
                <button type="button" class="btn_comm btn_close fn_close">닫기</button>
            </div>
        </div> -->

        
		<!-- 우측 퀵메뉴[s] -->
		<!--#include virtual="/publish/shop/renewal/html/include/quick_menu.html" -->
		<!-- 우측 퀵메뉴[e] -->

        <script>
        $(function(){
            $('.accordion_box').on({
                click:function(e){
                    $(e.currentTarget).next().slideToggle(function(){
                        $(e.currentTarget).attr('aria-expanded',function(i, a){
                            return a == 'true' ? false : true;
                        });
                    });
                }
            }, 'button.accordion_header');

            $('.roulette').on({
                click:function(e){
                    // var i에 결과값(0 ~ 7) 입력 (현재는 테스트 용으로 랜덤값 출력됨)
                    // 반시계 방향으로 결과값이 돕니다.
                    var i = Math.floor(Math.random() * (8 - 0)) + 0;
                    var rotate = 1080 + (i * 45) + 22;
                    var pannel = e.delegateTarget.querySelector('.pannel');

                    pannel.style.transitionDuration = '3s';
                    pannel.style.transform = 'rotate('+rotate+'deg)';

                    e.currentTarget.disabled = true;

                    $(pannel).on({
                        transitionend:function(){
                            // 2021-08-31 초기화 스크립트 추가
                            modalLayer = shopUI.modalLayer($("#popRouletteResults"), {
                                closeClass: "btn_close",
                                onClose: function() {
                                    $(pannel).attr('style',''); // 2021-09-16 수정
                                    e.currentTarget.disabled = false;
                                }
                            });
                        }
                    });
                }
            }, '.trigger');
        });
        </script>
	</section>

	<!--#include virtual="/publish/shop/renewal/html/include/left_menu.html" -->

	<!-- footer [s] -->
	<!--#include virtual="/publish/shop/renewal/html/include/footer.html" -->
	<!-- footer [e] -->
</body>
</html>