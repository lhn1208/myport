/*!
 * jQuery wmuSlider v2.1
 * 
 * Copyright (c) 2011 Brice Lechatellier
 * http://brice.lechatellier.com/
 *
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * 2015-02-25 navigationControl, paginationControl Bug fixed 버전, 뉴버전 업데이트 금지, 수정시 문의 - 유낙동
 */

(function(d){d.fn.wmuSlider=function(a){a=d.extend({animation:"fade",animationDuration:600,slideshow:!0,slideshowSpeed:7E3,slideToStart:0,navigationControl:!0,paginationControl:!0,previousText:"Previous",nextText:"Next",touch:!1,slide:"article",items:1},a);return this.each(function(){var b=d(this),e=a.slideToStart,k=b.find(".wmuSliderWrapper"),f=b.find(a.slide),l=f.length,m,h,p,g=function(n,g,t){if(p)return!1;p=!0;e=n;var c=d(f[n]);b.animate({height:c.innerHeight()});"fade"==a.animation?(f.css({position:"absolute",
opacity:0}),c.css("position","relative"),c.animate({opacity:1},a.animationDuration,function(){p=!1})):"slide"==a.animation&&(g?0==n?k.animate({marginLeft:-b.width()/a.items*l},a.animationDuration,function(){k.css("marginLeft",0);p=!1}):(t||k.css("marginLeft",-b.width()/a.items*l),k.animate({marginLeft:-b.width()/a.items*n},a.animationDuration,function(){p=!1})):k.animate({marginLeft:-b.width()/a.items*n},a.animationDuration,function(){p=!1}));h&&h.find("a").each(function(a){a==n?d(this).addClass("wmuActive"):
d(this).removeClass("wmuActive")});b.trigger("slideLoaded",n)};if(a.navigationControl){var c=d('<a class="wmuSliderPrev">'+a.previousText+"</a>");c.click(function(a){a.preventDefault();clearTimeout(m);0==e?g(l-1,!0):g(e-1)});0!==b.find(".wmuSliderPrev").length?b.find(".wmuSliderPrev").replaceWith(c):b.append(c);c=d('<a class="wmuSliderNext">'+a.nextText+"</a>");c.click(function(a){a.preventDefault();clearTimeout(m);e+1==l?g(0,!0):g(e+1)});0!==b.find(".wmuSliderNext").length?b.find(".wmuSliderNext").replaceWith(c):
b.append(c)}a.paginationControl&&(h=d('<ul class="wmuSliderPagination"></ul>'),d.each(f,function(a){h.append('<li><a href="#">'+a+"</a></li>");h.find("a:eq("+a+")").click(function(b){b.preventDefault();clearTimeout(m);g(a)})}),0!==b.find(".wmuSliderPagination").length?b.find(".wmuSliderPagination").replaceWith(h):b.append(h));if(a.slideshow){var q=function(){e+1<l?g(e+1):g(0,!0);m=setTimeout(q,a.slideshowSpeed)};m=setTimeout(q,a.slideshowSpeed)}var r=function(){var g=d(f[e]);b.animate({height:g.innerHeight()});
"slide"==a.animation&&(f.css({width:b.width()/a.items}),k.css({marginLeft:-b.width()/a.items*e,width:b.width()*f.length}))},c=function(d,f,c,h){clearTimeout(m);"move"!=f||"left"!=c&&"right"!=c?"cancel"==f?"right"==c&&0==e?k.animate({marginLeft:-l*b.width()/a.items},a.animationDuration):k.animate({marginLeft:-e*b.width()/a.items},a.animationDuration):"end"==f&&("right"==c?0==e?g(l-1,!0,!0):g(e-1):"left"==c?e+1==l?g(0,!0):g(e+1):k.animate({marginLeft:-e*b.width()/a.items},a.animationDuration)):"right"==
c?0==e?k.css("marginLeft",-l*b.width()/a.items+h):k.css("marginLeft",-e*b.width()/a.items+h):"left"==c&&k.css("marginLeft",-e*b.width()/a.items-h)};a.touch&&"slide"==a.animation&&(d.isFunction(d.fn.swipe)||d.ajax({url:"jquery.touchSwipe.min.js",async:!1}),d.isFunction(d.fn.swipe)&&b.swipe({triggerOnTouchEnd:!1,swipeStatus:c,allowPageScroll:"vertical"}));(function(){var c=d(f[e]);c.find("img").load(function(){k.show();b.animate({height:c.innerHeight()})});if("fade"==a.animation)f.css({position:"absolute",
width:"100%",opacity:0}),d(f[e]).css("position","relative");else if("slide"==a.animation){a.items>l&&(a.items=l);f.css("float","left");f.each(function(a){d(this).attr("data-index",a)});for(var h=0;h<a.items;h++)k.append(d(f[h]).clone());f=b.find(a.slide)}r();b.trigger("hasLoaded");g(e)})();d(window).resize(r);b.bind("loadSlide",function(a,b){clearTimeout(m);g(b)})})}})(jQuery);